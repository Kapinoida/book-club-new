# Book Club Management Platform

## Project Overview
A simple web application to manage a book club with reading progress tracking, discussions, and administrative features.

## Core Features

### Homepage
- Display current book selection with cover, title, author, description
- Show overall club reading progress
- Display next book selection preview
- Quick access to current book discussions

### Book Discussion Pages
- Progressive discussion sections (locked until readers reach specific points)
- Chapter/section-based discussion organization
- User comments with threading and reactions
- Reading progress tracking per user
- Spoiler protection through progressive unlocking

### User Authentication
- Google OAuth integration using NextAuth.js
- User profiles with reading history
- Progress tracking per book

### Admin Features
- Book management (add/edit/delete books)
- ISBN lookup integration for easy book addition
- Discussion point creation and management
- User progress oversight
- Admin-only access protection

## Technical Stack

### Frontend
- Next.js (App Router)
- React with TypeScript
- Tailwind CSS for styling
- shadcn/ui components (where supported)

### Backend
- Next.js API Routes (serverless)
- Prisma ORM
- PostgreSQL database (Vercel Postgres or similar)

### Authentication
- NextAuth.js with Google provider
- JWT session management
- Admin role protection via email whitelist

### Hosting
- Vercel (free tier compatible)
- Vercel Postgres for database
- Vercel Blob Storage for book covers

## Database Schema
- Users (authentication, admin roles)
- Books (title, author, ISBN, cover, pages, status)
- Discussion Sections (chapter ranges, unlock percentages)
- Discussion Posts (comments, replies, reactions)
- Reading Progress (user progress per book)

## Admin Access
- Only specific email addresses can access admin features
- Configured via environment variable
- Protected routes and API endpoints

## Development Commands
- `npm run dev` - Start development server
- `npm run build` - Build for production
- `npm run lint` - Run ESLint
- `npx prisma studio` - Database management interface
- `npx prisma db push` - Push schema changes to database

## Environment Variables Required
```
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your-secret-key
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
DATABASE_URL=your-database-connection-string
ADMIN_EMAILS=your-admin-email@example.com
```

## Current Status ✅
- ✅ Next.js project with TypeScript and App Router
- ✅ Prisma database schema implemented with proper relationships
- ✅ NextAuth.js authentication with Google OAuth
- ✅ Admin role system with email-based authorization
- ✅ shadcn/ui components configured
- ✅ Middleware for route protection
- ✅ Error boundary and loading state handling
- ✅ Database seed file with sample data
- ✅ Basic admin dashboard with stats and recent activity

## Foundation Strengthening Completed
- ✅ Environment configuration with `.env.example`
- ✅ Admin access control via environment variables
- ✅ JWT token types for middleware
- ✅ Error boundaries for better UX
- ✅ Route protection middleware
- ✅ Admin guard components

## Ready for Development
The foundation is now solid and ready for feature development:

### Immediate Next Steps
1. **Set up environment variables** - Copy `.env.example` to `.env.local` and configure
2. **Database setup** - Run `npx prisma db push` and `npm run seed`
3. **Test authentication** - Configure Google OAuth credentials
4. **Build admin features** - Book management, user management, discussion management
5. **Enhance user features** - Reading progress, commenting system, book discovery

### Development Workflow
1. `npm run dev` - Start development server
2. `npx prisma studio` - Manage database
3. `npm run lint` - Check code quality
4. `npm run build` - Test production build